require 'sinatra/base'
require 'date'
require 'lib/birthday_calc.rb'

class Birthday < Sinatra::Base
  enable :sessions

  get '/' do
    erb :index
  end

  post '/birthday' do
    p params[:day]
    p params[:month]
    @days_to_birthday = BirthdayCalc.countdown(params[:day].to_i,
                                               params[:month].to_i)
    @name = params[:name]
    @days_to_birthday == 0 ? (erb :birthday) : (erb :countdown)
  end
end
